# 01_网络编程概述

Java 提供的网络类库，可以实现无痛的网络连接，联网的底层细节被隐藏在 Java 的本机安装系统里，由 JVM 进行控制，并且 Java 实现了一个跨平台的网络库，程序员面对的是一个统一的网络编程环境。

软件架构：

- C/S架构：全称为Client/Server架构，指客户端和服务器架构，常见的有 QQ、美团等。
- B/S架构：全称为Browser/Server架构，指浏览器和服务器架构，常见的有 Edge、Chrome 等。

两种架构各有优势，但无论是哪种架构，都离不开网络的支持。网络编程就是在一定的协议下，实现两台计算机的通信的程序。

网络基础：

- 计算机网络：把分布在不同地理区域的计算机与专门的外部设备用通信线路互连成一个规模大、功能强的网络系统，从而使众多的计算机可以方便地互相传递信息、共享硬件、软件、数据信息等资源。

- 网络编程的目的：直接或间接地通过网络协议与其它计算机实现数据交换，进行通讯。
- 网络编程中的三个主要问题：
  - 如何准确地定位网络上一台或多台主机？
  - 如何定位主机上的特定的应用？
  - 找到主机后，如何可靠、高效地进行数据传输？

实现网络传输的三要素：

- 使用 IP 地址 (准确定位网络上一台或多台主机)。
- 使用端口号 (定位主机上的特定的应用)。
- 规范网络通信协议 (可靠、高效地进行数据传输)。

IP 地址：互联网协议地址 (Internet Protocol Address)，俗称 IP，用来给网络中的一台计算机做唯一的编号。

分类：

- IPv4：是一个 32 位的二进制数，通常被分为 4 个字节，表示成`a.b.c.d`的形式，以点分十进制表示，例如
  `172.19.12.214`。其中 a、b、c、d 都是 0~255 之间的十进制整数。
  - 这种方式最多可以表示 42 亿个地址，2011年已用尽。
  - IP 地址 = 网络地址 + 主机地址。
    - 网络地址：标识计算机或网络设备所在的网段。
    - 主机地址：标识特定主机或网络设备。
- IPv6：采用 128 位地址长度，共 16 个字节，写成 8 个无符号整数，如`fe80::25a0:7d77:2a5f:b001%13`。

- 公网地址：万维网使用。
- 私有地址：局域网使用，`192.168.`开头就是私有地址，范围即为`192.168.0.0`~`192.168.255.255`。

本地回路地址：`127.0.0.1`，访问自己的当前设备。

域名：`www.baidu.com`，因为 IP 地址不便于记忆，所以就有了域名，当在连接网络时输入一个主机的域名后，域名服务器 (DNS, Domain Name System) 负责将域名转化成 IP 地址，之后才能和主机建立连接。

如果说 IP 地址可以唯一标识网络中的设备，那么端口号就可以唯一标识设备中的进程 (应用程序)，不同的进程设置不同的端口号。

端口号：用 2 字节表示的整数，取值范围0~65535。

- 公认端口：0~1023，被预先定义的服务通信占用，如 HTTP (80)、FTP (21)、Telnet (23)。
- 注册端口：1024~49151，分配给用户进程或应用程序，如 Tomcat (8080)、MySQL (3306)、Oracle (1521)。
- 动态/私有端口：49152~65535。

如果端口号被另外一个服务或应用所占用，会导致当前程序起启动失败。

网络通信协议：在计算机网络中，这些连接和通信的规则被称为网络通信协议，它对数据的传输格式、传输速率、传输步骤、出错控制等做了统一规定，通信双方必须同时遵守才能完成数据交换。

OSI 参考模型：模型过于理想化，未能广泛推广。

- 应用层
- 表示层
- 会话层
- 传输层
- 网络层
- 数据链路层
- 物理层

TCP/IP 参考模型 (TCP/IP 协议)：事实上的国际标准。

- 应用层
- 传输层
- 网络层
- 物理+数据链路层